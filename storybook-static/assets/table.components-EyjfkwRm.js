import{j as a}from"./jsx-runtime-QvZ8i92b.js";import{r as p}from"./index-uubelm5h.js";import{R as m}from"./menubar.components-B-qAqYFO.js";import{R as v}from"./rowcontrols.components-1jIZ_AR-.js";import{u as j,c as R,g as w,C as $,e as M}from"./common.testdata-CGJEWT8M.js";import{B as H,R as S}from"./Row-C7mB3ljR.js";const B=p.forwardRef(({bsPrefix:l,fluid:s=!1,as:e="div",className:c,...n},f)=>{const d=j(l,"container"),t=typeof s=="string"?`-${s}`:"-fluid";return a.jsx(e,{ref:f,...n,className:R(c,s?`${d}${t}`:d)})});B.displayName="Container";function N({animation:l,bg:s,bsPrefix:e,size:c,...n}){e=j(e,"placeholder");const[{className:f,...d}]=w(n);return{...d,className:R(f,l?`${e}-${l}`:e,c&&`${e}-${c}`,s&&`bg-${s}`)}}const T=p.forwardRef((l,s)=>{const e=N(l);return a.jsx(H,{...e,ref:s,disabled:!0,tabIndex:-1})});T.displayName="PlaceholderButton";const C=p.forwardRef(({as:l="span",...s},e)=>{const c=N(s);return a.jsx(l,{...c,ref:e})});C.displayName="Placeholder";const F=Object.assign(C,{Button:T}),G=p.forwardRef(({bsPrefix:l,className:s,striped:e,bordered:c,borderless:n,hover:f,size:d,variant:t,responsive:r,...h},i)=>{const o=j(l,"table"),u=R(s,o,t&&`${o}-${t}`,d&&`${o}-${d}`,e&&`${o}-${typeof e=="string"?`striped-${e}`:"striped"}`,c&&`${o}-bordered`,n&&`${o}-borderless`,f&&`${o}-hover`),b=a.jsx("table",{...h,className:u,ref:i});if(r){let x=`${o}-responsive`;return typeof r=="string"&&(x=`${x}-${r}`),a.jsx("div",{className:x,children:b})}return b}),A=({columns:l,enableTableHead:s,name:e,varient:c})=>{const n=p.useMemo(()=>c??"dark",[c]),f=p.useMemo(()=>e&&e.length>0?e+".table.head":"table.head",[e]),d=t=>{let r=f;t.id&&t.id.length>0?r=t.id:t.header&&t.header.length>0&&(r=f+t.header.replace(" ",""));let h=r;t.header&&t.header.length>0&&(h=t.header);let i;if(t.id&&typeof t.Header=="function"&&(i=a.jsx("th",{"aria-label":r,children:t.Header({id:r,header:h})},r)),!i&&t.header){const o=t.header;typeof o=="string"||typeof o=="number"?i=a.jsx("th",{"aria-label":r,children:o},r):(console.log("GenerateHeader - Unable to convert data into table header: "+JSON.stringify(o)),i=a.jsx("th",{"aria-label":r},r))}return i};return a.jsx("thead",{className:"table-"+n,children:a.jsx("tr",{"aria-label":f,children:s?l==null?void 0:l.map(t=>d(t)):null})})},D=(l,s)=>{let e=l;return s.id&&s.id.length>0?e=s.id:s.header&&s.header.length>0&&(e=l+s.header.replace(" ","")),e},O=l=>{const[s]=p.useState(l.rowsPerPage??5);return a.jsx("tbody",{children:[...Array(s)].map((e,c)=>{var n;return a.jsx("tr",{children:(n=l.columns)==null?void 0:n.map(f=>a.jsx("td",{children:a.jsx(F,{as:"p",xs:10})},D("row."+e+c+".cell.",f)))},"row"+e+c)})})},E=({columns:l,data:s,name:e})=>{const c=p.useMemo(()=>e&&e.length>0?e+".table.body":"table.body",[e]),n=p.useMemo(()=>s.filter(t=>t.filters.length===0).sort($),[s]),f=(d,t,r)=>{let h=c;t.id&&t.id.length>0&&(h=t.id);let i;if(typeof t.Cell=="function"&&(i=a.jsx("td",{children:t.Cell({column:h,originalRow:r.data})},h+"."+r.position+"."+d)),!i&&typeof t.accessorFn=="function"){const o=t.accessorFn(r.data);if(o in r.data){const u=r.data[o];(typeof u=="string"||typeof u=="number")&&(i=a.jsx("td",{children:u},h+"."+r.position+"."+d))}else typeof o=="string"||typeof o=="number"?i=a.jsx("td",{children:o},h+"."+r.position+"."+d):console.log("GenerateAccessorFN - Unable to convert data into table AccessorFN: "+JSON.stringify(o))}if(!i&&t.accessorKey){const o=r.data[t.accessorKey];typeof o=="string"||typeof o=="number"?i=a.jsx("td",{children:o},h+"."+r.position+"."+d):console.log("GenerateAccessorFN - Unable to convert data into table AccessorFN: "+JSON.stringify(o))}return i};return a.jsx("tbody",{children:n.map(d=>a.jsx("tr",{children:l.map((t,r)=>f(r,t,d))},d.position))})},q=({columns:l,data:s,name:e,varient:c,header:n,footer:f})=>{const d=p.useMemo(()=>{const y=[];if(s)for(let g=0;g<s.length;g++){const P={data:s[g],position:g,filters:[]};y.push(P)}return y.sort($)},[s]),t=p.useMemo(()=>(n==null?void 0:n.enableTableHead)??!0,[n]),[r,h]=p.useState(d),[i]=p.useState(l??[]),[o,u]=p.useState(!1),b=p.useMemo(()=>c??"dark",[c]),x=p.useMemo(()=>{let y="Table";return e&&e.length>0&&(y=e+" Table"),y},[e]);return a.jsxs(B,{fluid:!0,children:[a.jsx(m,{enableDensityToggle:(n==null?void 0:n.enableDensityToggle)??t,enableExportButton:(n==null?void 0:n.enableExportButton)??t,isCompact:o,setCompact:u,name:e,varient:b,columns:i,data:r,handleDisplayedRows:h}),a.jsx(S,{children:a.jsx(M,{children:a.jsxs(G,{hover:!0,responsive:!0,size:o?"sm":"","aria-label":x,children:[a.jsx(A,{columns:i,enableTableHead:t,name:e,varient:b}),r.length>0?a.jsx(E,{columns:i,name:e,varient:b,data:r}):a.jsx(O,{columns:i,name:e,varient:b})]})})}),(f==null?void 0:f.enablePagination)??!0?a.jsx(v,{columns:i,data:r,handleDisplayedRows:h,name:e,varient:b}):null]})};export{q as R};
