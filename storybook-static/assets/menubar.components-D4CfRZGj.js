import{P as c,j as h,e as L}from"./common.testdata-DhpCxAve.js";import{r as _,R as m}from"./index-DJO9vBfz.js";import{I as D,R as F}from"./search.components-CThtBX7H.js";import{R as H,B as x}from"./Row-DSI3DbjE.js";var z=["color","size","title","className"];function d(){return d=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d.apply(this,arguments)}function C(e,a){if(e==null)return{};var n=U(e,a),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function U(e,a){if(e==null)return{};var n={},t=Object.keys(e),o,i;for(i=0;i<t.length;i++)o=t[i],!(a.indexOf(o)>=0)&&(n[o]=e[o]);return n}var y=_.forwardRef(function(e,a){var n=e.color,t=e.size,o=e.title,i=e.className,u=C(e,z);return m.createElement("svg",d({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:n,className:["bi","bi-download",i].filter(Boolean).join(" ")},u),o?m.createElement("title",null,o):null,m.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),m.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))});y.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};y.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var B=["color","size","title","className"];function b(){return b=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},b.apply(this,arguments)}function P(e,a){if(e==null)return{};var n=R(e,a),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function R(e,a){if(e==null)return{};var n={},t=Object.keys(e),o,i;for(i=0;i<t.length;i++)o=t[i],!(a.indexOf(o)>=0)&&(n[o]=e[o]);return n}var T=_.forwardRef(function(e,a){var n=e.color,t=e.size,o=e.title,i=e.className,u=P(e,B);return m.createElement("svg",b({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:n,className:["bi","bi-grid-3x2-gap",i].filter(Boolean).join(" ")},u),o?m.createElement("title",null,o):null,m.createElement("path",{d:"M4 4v2H2V4zm1 7V9a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m5 5V9a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1M9 4v2H7V4zm5 0h-2v2h2zM4 9v2H2V9zm5 0v2H7V9zm5 0v2h-2V9zm-3-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm1 4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"}))});T.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};T.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var M=["color","size","title","className"];function O(){return O=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},O.apply(this,arguments)}function N(e,a){if(e==null)return{};var n=V(e,a),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function V(e,a){if(e==null)return{};var n={},t=Object.keys(e),o,i;for(i=0;i<t.length;i++)o=t[i],!(a.indexOf(o)>=0)&&(n[o]=e[o]);return n}var j=_.forwardRef(function(e,a){var n=e.color,t=e.size,o=e.title,i=e.className,u=N(e,M);return m.createElement("svg",O({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:n,className:["bi","bi-grid-3x3-gap",i].filter(Boolean).join(" ")},u),o?m.createElement("title",null,o):null,m.createElement("path",{d:"M4 2v2H2V2zm1 12v-2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V7a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m5 10v-2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V7a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1M9 2v2H7V2zm5 0v2h-2V2zM4 7v2H2V7zm5 0v2H7V7zm5 0h-2v2h2zM4 12v2H2v-2zm5 0v2H7v-2zm5 0v2h-2v-2zM12 1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-1 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm1 4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1z"}))});j.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};j.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var A={},w={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function s(){}return s.EOL=`\r
`,s.BOM="\uFEFF",s.DEFAULT_FIELD_SEPARATOR=",",s.DEFAULT_DECIMAL_SEPARATOR=".",s.DEFAULT_QUOTE='"',s.DEFAULT_SHOW_TITLE=!1,s.DEFAULT_TITLE="My Generated Report",s.DEFAULT_FILENAME="generated",s.DEFAULT_SHOW_LABELS=!1,s.DEFAULT_USE_TEXT_FILE=!1,s.DEFAULT_USE_BOM=!0,s.DEFAULT_HEADER=[],s.DEFAULT_KEYS_AS_HEADERS=!1,s}();e.CsvConfigConsts=a,e.ConfigDefaults={filename:a.DEFAULT_FILENAME,fieldSeparator:a.DEFAULT_FIELD_SEPARATOR,quoteStrings:a.DEFAULT_QUOTE,decimalSeparator:a.DEFAULT_DECIMAL_SEPARATOR,showLabels:a.DEFAULT_SHOW_LABELS,showTitle:a.DEFAULT_SHOW_TITLE,title:a.DEFAULT_TITLE,useTextFile:a.DEFAULT_USE_TEXT_FILE,useBom:a.DEFAULT_USE_BOM,headers:a.DEFAULT_HEADER,useKeysAsHeaders:a.DEFAULT_KEYS_AS_HEADERS};var n=function(){function s(r){this._csv="";var l=r||{};this._options=u({},e.ConfigDefaults,l),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(s.prototype,"options",{get:function(){return this._options},set:function(r){this._options=u({},e.ConfigDefaults,r)},enumerable:!0,configurable:!0}),s.prototype.generateCsv=function(r,l){if(l===void 0&&(l=!1),this._csv="",this._parseData(r),this._options.useBom&&(this._csv+=a.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._getHeaders(),this._getBody(),this._csv==""){console.log("Invalid data");return}if(l)return this._csv;var f=this._options.useTextFile?"plain":"csv",v=this._options.useTextFile?".txt":".csv",p=new Blob([this._csv],{type:"text/"+f+";charset=utf8;"});if(navigator.msSaveBlob){var g=this._options.filename.replace(/ /g,"_")+v;navigator.msSaveBlob(p,g)}else{var S=this._options.useTextFile?"text":"csv";""+S+encodeURI(this._csv);var E=document.createElement("a");E.href=URL.createObjectURL(p),E.setAttribute("visibility","hidden"),E.download=this._options.filename.replace(/ /g,"_")+v,document.body.appendChild(E),E.click(),document.body.removeChild(E)}},s.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var r=this._options.useKeysAsHeaders,l=r?Object.keys(this._data[0]):this._options.headers;if(l.length>0){for(var f="",v=0;v<l.length;v++)f+=l[v]+this._options.fieldSeparator;f=f.slice(0,-1),this._csv+=f+a.EOL}}},s.prototype._getBody=function(){for(var r=Object.keys(this._data[0]),l=0;l<this._data.length;l++){for(var f="",v=0;v<r.length;v++){var p=r[v];f+=this._formatData(this._data[l][p])+this._options.fieldSeparator}f=f.slice(0,-1),this._csv+=f+a.EOL}},s.prototype._formatData=function(r){return this._options.decimalSeparator==="locale"&&this._isFloat(r)?r.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(r)?r.toString().replace(".",this._options.decimalSeparator):typeof r=="string"?(r=r.replace(/"/g,'""'),(this._options.quoteStrings||r.indexOf(",")>-1||r.indexOf(`
`)>-1||r.indexOf("\r")>-1)&&(r=this._options.quoteStrings+r+this._options.quoteStrings),r):typeof r=="boolean"?r?"TRUE":"FALSE":r},s.prototype._isFloat=function(r){return+r===r&&(!isFinite(r)||!!(r%1))},s.prototype._parseData=function(r){return this._data=typeof r!="object"?JSON.parse(r):r,this._data},s}();e.ExportToCsv=n;var t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function u(s){for(var r,l=i(s),f,v=1;v<arguments.length;v++){r=Object(arguments[v]);for(var p in r)t.call(r,p)&&(l[p]=r[p]);if(Object.getOwnPropertySymbols){f=Object.getOwnPropertySymbols(r);for(var g=0;g<f.length;g++)o.call(r,f[g])&&(l[f[g]]=r[f[g]])}}return l}})(w);(function(e){function a(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}Object.defineProperty(e,"__esModule",{value:!0}),a(w)})(A);const G=e=>{const a=_.useMemo(()=>e.enableDensityToggle??!0,[e.enableDensityToggle]),n=_.useMemo(()=>e.enableExportButton??!0,[e.enableExportButton]),t=_.useMemo(()=>e.varient??"dark",[e.varient]),o=_.useMemo(()=>{let u="SearchBar";return e.name&&e.name.length>0&&(u=e.name+" "+u),u},[e.name]),i=()=>{const u=e.data.map(l=>l.data);let s="Unknown_"+Date.now();e.name&&e.name.length>0&&(s=e.name+"_"+Date.now()),new A.ExportToCsv({showLabels:!0,filename:s,useKeysAsHeaders:!0}).generateCsv(u)};return h.jsx(h.Fragment,{children:a||n?h.jsxs(H,{children:[h.jsx(L,{}),h.jsx(L,{md:"auto",children:h.jsxs(D,{children:[h.jsx(F,{...e}),a?h.jsx(x,{variant:t,"aria-label":o+" Compact Setting Toggle",onClick:()=>{e.setCompact&&e.setCompact(!e.isCompact)},children:e.isCompact?h.jsx(j,{}):h.jsx(T,{})}):null,n?h.jsx(x,{variant:t,"aria-label":o+" Download CSV Button",tabIndex:0,onClick:()=>i(),children:h.jsx(y,{})}):null]})})]}):null})};export{G as R};
